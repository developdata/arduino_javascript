<!DOCTYPE html>
<html lang="en">
<head>
   
</head>
<body class="container">

    <header>
    
    </header>

    <main>
        <div class="jumbotron">
            <h1>This is great</h1>
            <p>Welcome to templating using EJS</p>
            <p id="test">button</p>
        </div>
    </main>

    <footer>
     
    </footer>
<script src="http://localhost:3000/socket.io/socket.io.js"></script>
<script>
    var button = document.getElementById('test');
    var onoff = 0;

    button.onclick = function(e){
        console.log('clicked');

        if(onoff === 0){
            onoff = 1;
        } else {
            onoff = 0;
        }

        sendMessageToServer(onoff);
    }

    var socket = io();

    socket.connect('http://localhost:8080');

    // Add a connect listener
    socket.on('connect',function() {
      console.log('Client has connected to the server!');
    });
    // Add a connect listener
    socket.on('message',function(data) {
      console.log('Received a message from the server!',data);
    });
    // Add a disconnect listener
    socket.on('disconnect',function() {
      console.log('The client has disconnected!');
    });

    // Sends a message to the server via sockets
    function sendMessageToServer(message) {
      socket.send(message);
    };

</script>
    
</body>
</html>